<!doctype html>
<html xml:lang="en-gb" lang="en-gb" >
    <head>
        <title>Ramblers Places</title>
        <!-- Leaflet -->
        <link rel="stylesheet" href="leaflet/leaflet.css" />
        <script src="leaflet/leaflet.js" ></script>
        <!-- Ramblers -->
        <script src="mapcode/mapcode.js"></script>
        <script src="mapcode/ndata.js"></script>
        <!-- Ramblers -->
        <link rel="stylesheet" href="dist/ramblerplaces.css" />
        <link rel="stylesheet" href="dist/mapdisplay.css" />
        <script src="dist/ramblersleaflet.js" ></script>
        <script src="dist/ramblersplaces.js" ></script>
        <!-- Google maps -->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCn7L6gy4ahGAk-GTwedKWj8G3k5tkYEqw" async defer></script>
        <script src="google/Leaflet.GoogleMutant.js"></script>
        <script src="google/es6-promise.auto.js"></script>
        <!--- Clustering -->
        <link rel="stylesheet" href="clustering/MarkerCluster.css" />
        <link rel="stylesheet" href="clustering/MarkerCluster.Default.css" />
        <script src="clustering/MarkerCluster.js"></script>
        <script src="clustering/MarkerClusterGroup.js"></script>
        <script src="clustering/DistanceGrid.js"></script>
        <script src="clustering/MarkerCluster.QuickHull.js"></script>
        <script src="clustering/MarkerCluster.Spiderfier.js"></script>
        <script src="clustering/MarkerOpacity.js"></script>
        <!-- Search -->
        <link rel="stylesheet" href="geocoder/Control.Geocoder.css" />
        <script src="geocoder/Control.Geocoder.js"></script>
       <!-- Location search -->
        <link rel="stylesheet" href="locationsearch/Control.Locationsearch.css" />
        <script src="locationsearch/Control.Locationsearch.js"></script>
        <!-- Mouse move display -->
        <script src="mouse/L.Control.Mouse.js"></script>
        <link rel="stylesheet" href="mouse/L.Control.Mouse.css" />
        <!-- OS Grid Ref display -->
        <script src="geodesy/vector3d.js"></script>
        <script src="geodesy/latlon-ellipsoidal.js"></script>
        <script src="geodesy/osgridref.js"></script>

        <!--[[Insert Analytics]]--->
    </head>
    <body>
        <div id="ra-cluster-progress"><div id="ra-cluster-progress-bar"></div></div> 
        <div id="map-container" style="float:left,height:100%">
            <div id="leafletmap" ></div>
        </div>
        <div class="maptopmenu">
            <!--[[Insert menu]]---> 
        </div>
        <script>
<!--[[Add markers here]]--->
            var L, document, ramblersMap;
            ramblersMap = new RamblersLeafletMap('[[base]]');
            ramblersMap.options.google = true;
            ramblersMap.options.startingplaces = true;
            ramblersMap.options.fullscreen = false;

            window.onload = function () {
                raLoadLeaflet();
                
            };

        </script>


        <!-- The Modal -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="modalclose">x</span>

                <div id="placeinfo"><p>Dummy text</p></div>
            </div>

        </div>
        <script>
// Get the modal
            var modal = document.getElementById('myModal');

// Get the <span> element that closes the modal
            var span = document.getElementsByClassName("modalclose")[0];

// When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

// When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>
    </body>
</html>